<div ng-if="data.type == 'blog_homepage'">

	<div class="blog-item card" ng-repeat="blog in data">	

		<h3 class="futura">
	        <a ng-attr-href="{{blog.section.link}}">{{blog.section.name}}</a>
	    </h3>
		
		<div class="grid-row padded">			
			<div class="blog-avatar">
				<a ng-href="/author/{{blog.author.slug}}">
					<img class="max circular" ng-if="blog.author.name == 'Mary Beard'" src="/wp-content/themes/tls/images/mary.jpg"/>
					<img class="max circular" ng-if="blog.author.name != 'Mary Beard'" src="/wp-content/themes/tls/images/grey-logo.jpg" />
				</a>
			</div>

			<div class="blog-data">
				<div class="inner">
					<h4><a ng-click="tealiumTag(blog, 'link');" ng-bind-html="blog.title"></a></h4>
					<p class="futura"><a ng-href="/author/{{blog.author.slug}}">{{blog.author.name}}</a></p>
					<p ng-bind-html="blog.text"></p>
				</div>				
			</div>

		</div>	
	</div>
</div>

<div ng-if="data.type == 'blog'">

	<div class="blog-item card">

		<h3 class="futura">
	        <a ng-attr-href="{{data.category_url}}">{{data.category.title}}</a>
	    </h3>
		
		<div ng-if="data.category.slug != 'listen'" class="grid-row padded">
			<div class="blog-avatar">
				<a ng-href="{{data.url}}">
					<img class="max circular" ng-attr-src="{{data.thumbnail}}"/>
				</a>
			</div>

			<div class="blog-data">
				<div class="inner">
					<h4><a ng-click="tealiumTag(data, 'url');" ng-bind-html="data.title"></a></h4>
					<p class="futura"><a ng-href="/author/{{data.author.slug}}">{{data.author.name}}</a></p>
					 <p ng-bind-html="data.excerpt"></p>
				</div>				
			</div>
		</div>	

		<div ng-if="data.category.slug == 'listen'" class="padded">			
			<div class="embed" ng-bind-html="sce.trustAsHtml(data.soundcloud);"></div>
			<h4><a ng-click="tealiumTag(data, 'link');" ng-bind-html="data.title"></a></h4>
			 <p ng-if="data.excerpt.length > 4" ng-bind-html="data.excerpt"></p>
		</div>		

	</div>
</div>


<div class="card" ng-if="data.type == 'article'" ng-class="{private:data.visibility == 'private'}">
	
	<h3 class="futura"> 
		<a ng-if="data.section.name" ng-href="{{data.section.link}}" ng-bind-html="data.section.name"></a>			
		<!-- <a ng-attr-href="{{data.section.link}}" ng-if="data.section.name" ng-bind-html="data.section.name"></a>			 -->
		<i ng-if="data.visibility == 'private'" class="icon icon-key"></i>
	</h3>
	
	<a ng-click="tealiumTag(data, 'url');">
		<img class="max" ng-if="data.image" ng-attr-src="{{data.image}}" />						
	</a>	
	
	<div class="padded">
		<h4><a ng-if="data.url" ng-click="tealiumTag(data, 'url');" ng-bind-html="data.title"></a></h4>
		<p ng-bind-html="data.excerpt"></p>
	</div>

	<footer ng-if="data.books.length > 0">
		<!--<p ng-if="data.author != '' && data.custom_fields.book_title == null && !data.books" class="futura" ng-bind="data.author"></p>	-->
		<div>
			<div class="book summary-wrapper" ng-repeat="book in data.books">
				<p class="book-title futura" ng-if="book.book_title" ng-bind-html="book.book_title"></p>
				<p class="futura" ng-if="book.book_author" ng-bind-html="book.book_author"></p>
                <p class="futura" ng-if="book.book_title == '' || book.book_author == ''" ng-bind-html="book.book_info"></p>
			</div>
		</div>
	</footer>
</div>

<div class="card" ng-if="data.type == 'then_and_now'" ng-class="{private:data.visibility == 'private'}">
	
	<h3 class="futura">
		Then and now
		<i ng-if="data.visibility == 'private'" class="icon icon-key"></i>
	</h3>

	<img class="max" ng-if="data.image_url" ng-attr-src="{{data.image_url}}" />

	<div class="padded">
		<h4><a ng-if="data.link" ng-click="tealiumTag(data, 'link');" ng-bind-html="data.title"></a></h4>
		<p ng-bind-html="data.excerpt"></p>
	</div>

	<footer ng-if="data.books">
		<!--<p ng-if="data.author != '' && data.custom_fields.book_title == null && !data.books" class="futura" ng-bind="data.author"></p>	-->
		<div>
			<div class="book summary-wrapper" ng-repeat="book in data.books">
                <p class="book-title futura" ng-if="book.book_title" ng-bind-html="book.book_title"></p>
                <p class="futura" ng-if="book.book_author" ng-bind-html="book.book_author"></p>
                <p class="futura" ng-if="book.book_title == '' || book.book_author == ''" ng-bind-html="book.book_info"></p>
			</div>
		</div>
	</footer>
</div>


<div class="card mpu" ng-if="data.type == 'mpu'">	
	<div data-ng-dfp-ad="{{data.id}}"></div>
</div>